version: "3.9"

services:
  ganache:
    image: trufflesuite/ganache-cli
    command: --db ./chain/
    networks:
      - hackathon

  executor:
    build: ./Executor
    depends_on:
      - ganache
      - publisher
    ports:
      - 8081:8081
    environment:
      - GANACHE_URL=http://ganache:8545
      - PUBLISHER_URL=http://publisher:8082
    networks:
      - hackathon
  
  publisher:
    build: ./Publisher
    networks:
      - hackathon

networks:
  hackathon:
    name: hackathon